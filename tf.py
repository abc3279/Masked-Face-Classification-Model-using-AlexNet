loss = 0
accu = 0
time = 0
epch = [[0] * 90 for i in range(3)]

def switch(wat):
    i = {"1/90\n" : 0, "2/90\n" : 1, "3/90\n" : 2, "4/90\n" : 3, "5/90\n" : 4,
         "6/90\n" : 5, "7/90\n" : 6, "8/90\n" : 7, "9/90\n" : 8, "10/90\n" : 9,
         "11/90\n" : 10, "12/90\n" : 11, "13/90\n" : 12, "14/90\n" : 13, "15/90\n" : 14,
         "16/90\n" : 15, "17/90\n" : 16, "18/90\n" : 17, "19/90\n" : 18, "20/90\n" : 19,
         "21/90\n" : 20, "22/90\n" : 21, "23/90\n" : 22, "24/90\n" : 23, "25/90\n" : 24,
         "26/90\n" : 25, "27/90\n" : 26, "28/90\n" : 27, "29/90\n" : 28, "30/90\n" : 29,
         "31/90\n" : 30, "32/90\n" : 31, "33/90\n" : 32, "34/90\n" : 33, "35/90\n" : 34,
         "36/90\n" : 35, "37/90\n" : 36, "38/90\n" : 37, "39/90\n" : 38, "40/90\n" : 39,
         "41/90\n" : 40, "42/90\n" : 41, "43/90\n" : 42, "44/90\n" : 43, "45/90\n" : 44,
         "46/90\n" : 45, "47/90\n" : 46, "48/90\n" : 47, "49/90\n" : 48, "50/90\n" : 49,
         "51/90\n" : 50, "52/90\n" : 51, "53/90\n" : 52, "54/90\n" : 53, "55/90\n" : 54,
         "56/90\n" : 55, "57/90\n" : 56, "58/90\n" : 57, "59/90\n" : 58, "60/90\n" : 59,
         "61/90\n" : 60, "62/90\n" : 61, "63/90\n" : 62, "64/90\n" : 63, "65/90\n" : 64,
         "66/90\n" : 65, "67/90\n" : 66, "68/90\n" : 67, "69/90\n" : 68, "70/90\n" : 69,
         "71/90\n" : 70, "72/90\n" : 71, "73/90\n" : 72, "74/90\n" : 73, "75/90\n" : 74,
         "76/90\n" : 75, "77/90\n" : 76, "78/90\n" : 77, "79/90\n" : 78, "80/90\n" : 79,
         "81/90\n" : 80, "82/90\n" : 81, "83/90\n" : 82, "84/90\n" : 83, "85/90\n" : 84,
         "86/90\n" : 85, "87/90\n" : 86, "88/90\n" : 87, "89/90\n" : 88, "90/90\n" : 89}.get(wat, "알 수 없는")
    return i

f = open("MaxPooling.txt",'r')

lines = f.readlines()

for line in lines:
    idk = line.split(" ")
    if "Epoch" in idk:
        i = switch(idk[idk.index("Epoch")+1])
    
    if "loss:" in idk:
        loss = float(idk[idk.index("loss:")+1])
        epch[0][i] += loss
#       print(epch[0][i])

    if "accuracy:" in idk:
        accu = float(idk[idk.index("accuracy:")+1])
        epch[1][i] += accu
#        print(epch[1][i])
        
    if "[==============================]" in idk:
        t = (idk[idk.index("[==============================]")+2])
        time = time = t.replace("s","")
        epch[2][i] += int(time) 

        ms = (idk[idk.index("[==============================]")+3])
        mstime = ms.replace("ms/step","")
        epch[2][i] += int(mstime)/1000

#        print(epch[2][i])

f.close()

for a in range(90):
    print("Epoch:", a+1)
    for b in range(3):
        if b == 0:
            print("loss: %.4f"%float(epch[b][a]/10))
        elif b == 1:
            print("accu: %.4f"%float(epch[b][a]/10))
        elif b == 2:
            print("time: %.4f\n"%float(epch[b][a]/10))
        
'''
print("%.4f"%float(loss/150))
print("%.4f"%float(accu/150))
print(time)
'''